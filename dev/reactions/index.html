<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reactions Overview · HallPIC</title><meta name="title" content="Reactions Overview · HallPIC"/><meta property="og:title" content="Reactions Overview · HallPIC"/><meta property="twitter:title" content="Reactions Overview · HallPIC"/><meta name="description" content="Documentation for HallPIC."/><meta property="og:description" content="Documentation for HallPIC."/><meta property="twitter:description" content="Documentation for HallPIC."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">HallPIC</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Design Overview</a></li><li class="is-active"><a class="tocitem" href>Reactions Overview</a><ul class="internal"><li><a class="tocitem" href="#Electron-Impact-Reactions"><span>Electron Impact Reactions</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reactions Overview</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reactions Overview</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/UM-PEPL/HallPIC" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/UM-PEPL/HallPIC/blob/main/docs/src/reactions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reactions"><a class="docs-heading-anchor" href="#Reactions">Reactions</a><a id="Reactions-1"></a><a class="docs-heading-anchor-permalink" href="#Reactions" title="Permalink"></a></h1><h2 id="Electron-Impact-Reactions"><a class="docs-heading-anchor" href="#Electron-Impact-Reactions">Electron Impact Reactions</a><a id="Electron-Impact-Reactions-1"></a><a class="docs-heading-anchor-permalink" href="#Electron-Impact-Reactions" title="Permalink"></a></h2><p>Electron impact reactions, where a reactant species collides with an electron (ionization, dissociation, etc.), are treated in the following way. For each reaction, we first compute a <span>$\Delta n$</span> in each cell</p><p class="math-container">\[    \Delta n = n_e n_r k_r(T_e) \Delta t,\]</p><p>where <span>$n_e$</span> is the electron number density, <span>$n_r$</span> is the reactant density, <span>$k_r$</span> is the reaction rate which is a function of the electron temperature <span>$T_e$</span>, and <span>$\Delta t$</span> is the timestep. This quantity represents the change in number density in the timestep due to a given reaction. We then loop over all the products to determine the proportion of this created density that is actually consumed by the particles to be generated. The consumed density is calculated as </p><p class="math-container">\[    \Delta n_{consumed} = min_{products}(N_{gen} * w_{gen}),\]</p><p>where the minimum is over the product species of the reaction where the number of generated particles <span>$N_{gen}$</span> for that species is given by</p><p class="math-container">\[    N_{gen} = floor(\frac{\Delta n}{w_{gen}}),\]</p><p>and the weight the new particles are generated <span>$w_{gen}$</span> at is given by</p><p class="math-container">\[    w_{gen} = \Bar{w} \frac{N_{cell}}{N_{desired}}\]</p><p>where <span>$\Bar{w}$</span> is the time averaged average weight of the particles of the product in the cell, <span>$N_{cell}$</span> is the number of product particles in the cell, and <span>$N_{desired}$</span> is a hyperparameter that specifies the number of product particles that we want in the cell. Essentailly, this generation weight means that generated particles will not be far from the average particle weight, accounting for the fact that we do desire a reasonable number of particles per cell. The reason we do the loop over the products is that the fact that <span>$\Bar{w}$</span> varies between species and we use a floor function can cause total weight added to each product species to differ betwen products, which does not conserve mass. By using the minimum to find the consumed <span>$\Delta n$</span> we can then ensure that the <span>$\Delta n$</span> is consistent across all species. We also calculate the remainder <span>$\Delta n$</span> as</p><p class="math-container">\[    \Delta n_{remainder} = \Delta n - \Delta n_{consumed},\]</p><p>which is tracked per reaction per cell and carried over to the next timestep. In this manner we can handle cases where the reaction does not generate enough weight to create a product particle with good statistics, but ensure mass conservation on average. </p><p>For the actual particle generatation, we then use <span>$\Delta n_{consumed}$</span> to calculate the number of particles to be generated using the floor method. We then modify the generation weight as </p><p class="math-container">\[    w_{gen} = \frac{\Delta n_{consumed}}{N_gen},\]</p><p>which essentially purturbes the generation weight to ensure that the <span>$\Delta n_{consumed}$</span> is, in fact, consumed. </p><p>Finally, we reduce the weight of each reactant particle  by </p><p class="math-container">\[    \frac{w_{p,cell}}{w_{total, cell}} \Delta n_{consumed},\]</p><p>where <span>$w_{p,cell}$</span> is the weight the particle contributes to the cell and <span>$w_{total, cell}$</span> is the total weight of the reactant speices in the cell. In this manner, all reactant particles have their weights reduced, in proportion to their size. This insures that larger particles see a larger reduction, which is consistent with the linear dependency of <span>$\Delta n$</span> on the reactant density.  </p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Design Overview</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.9.0 on <span class="colophon-date" title="Wednesday 26 March 2025 17:26">Wednesday 26 March 2025</span>. Using Julia version 1.11.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
